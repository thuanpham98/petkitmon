import{j as e,L as u,T as k,a as f,_ as w,d as E,P as j}from"./chunk-petkitmon.js";import{E as B}from"./petkitmon.js";const y=new Map([["normal","#A8A77A"],["fire","#EE8130"],["water","#6390F0"],["electric","#F7D02C"],["grass","#7AC74C"],["ice","#96D9D6"],["fighting","#C22E28"],["poison","#A33EA1"],["ground","#E2BF65"],["flying","#A98FF3"],["psychic","#F95587"],["bug","#A6B91A"],["rock","#B6A136"],["ghost","#735797"],["dragon","#6F35FC"],["dark","#705746"],["steel","#B7B7CE"],["fairy","#D685AD"]]),S="4.6.4",T=25,C=0,D=750,F=1920,b=1080,$="Comp 2",P=0,v=[],z=[{ddd:0,ind:1,ty:4,nm:"Shape Layer 3",ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[964,540,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:3,ty:"el",s:{a:0,k:[30,30]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:5,s:[0],e:[25]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:25,s:[25],e:[100]},{t:45}],x:`var $bm_rt;
$bm_rt = loopOut();`,ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:5,s:[2],e:[95]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:25,s:[95],e:[99]},{t:45}],x:`var $bm_rt;
$bm_rt = loopOut();`,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"},{ty:"st",c:{a:0,k:[.6313726,.2078431,.3843137,1]},o:{a:0,k:100},w:{a:0,k:15},lc:2,lj:2,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,ix:1,mn:"ADBE Vector Group"}],ip:5,op:755,st:5,bm:0,sr:1},{ddd:0,ind:2,ty:4,nm:"Shape Layer 2",ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[960,540,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[125,125]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:5,s:[0],e:[25]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:25,s:[25],e:[100]},{t:45}],x:`var $bm_rt;
$bm_rt = loopOut();`,ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:5,s:[2],e:[95]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:25,s:[95],e:[99]},{t:45}],x:`var $bm_rt;
$bm_rt = loopOut();`,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"},{ty:"st",c:{a:0,k:[.9411765,.4823529,.5294118,1]},o:{a:0,k:100},w:{a:0,k:20},lc:2,lj:2,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,ix:1,mn:"ADBE Vector Group"}],ip:5,op:755,st:5,bm:0,sr:1},{ddd:0,ind:3,ty:4,nm:"Shape Layer 1",ks:{o:{a:0,k:100},r:{a:0,k:0},p:{a:0,k:[960,540,0]},a:{a:0,k:[0,0,0]},s:{a:0,k:[100,100,100]}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[250,250]},p:{a:0,k:[0,0]},nm:"Ellipse Path 1",mn:"ADBE Vector Shape - Ellipse"},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[0],e:[25]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:20,s:[25],e:[100]},{t:40}],x:`var $bm_rt;
$bm_rt = loopOut();`,ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[2],e:[95]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:20,s:[95],e:[99]},{t:40}],x:`var $bm_rt;
$bm_rt = loopOut();`,ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Trim Paths 1",mn:"ADBE Vector Filter - Trim"},{ty:"st",c:{a:0,k:[.0117647,.8352941,.8078431,1]},o:{a:0,k:100},w:{a:0,k:20},lc:2,lj:2,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke"},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Ellipse 1",np:3,cix:2,ix:1,mn:"ADBE Vector Group"}],ip:0,op:750,st:0,bm:0,sr:1}],V={v:S,fr:T,ip:C,op:D,w:F,h:b,nm:$,ddd:P,assets:v,layers:z},d=({width:i=240,height:t=240,data:a=V})=>e.jsx("div",{style:{width:`${i}px`,height:`${t}px`},children:e.jsx(u,{width:`${i}px`,height:`${t}px`,animationData:a,loop:!0})}),R=({pokemon:i,selectedType:t})=>{const{data:a,isLoading:l}=k({queryKey:["get-pokemon",t.length,i.name],queryFn:async()=>{const o=(await f.get(`${i.url}`)).data;if(t.length){const r=o.types.filter(m=>{const c=m.type.name;return t.includes(c)});return r.length&&t.length===r.length?o:null}else return o}});return l?e.jsx(e.Fragment,{children:e.jsx(d,{})}):e.jsxs("div",{onClick:()=>{},className:"item-pokemon",children:[a?.sprites?.other?.showdown?.front_shiny||a?.sprites?.other?.official_artwork?e.jsx("img",{src:a?.sprites?.other?.showdown?.front_shiny??a?.sprites?.other?.official_artwork}):e.jsxs("svg",{viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[e.jsx("rect",{width:"360",height:"360",fill:"url(#pattern0)"}),e.jsxs("defs",{children:[e.jsx("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:e.jsx("use",{xlinkHref:"#image0_436_202765",transform:"scale(0.015625)"})}),e.jsx("image",{id:"image0_436_202765",width:"64",height:"64",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA40lEQVR4Xu3bQQ6EQAhEUbj/oXsO8Sdh4XOvJAi/qkF3Zt6E6710++xuiD6T40uACtACqYlzD2IACFKBkoHcgmSQDJJBMngKIT6ADygF6DSYfcCLTzg/z0eGrASogDbT0gKxB2MB5pkiBoBgrEEMwIBjLx9fAAiCIAhygmkkRgYjhWMHditsL2AvYC+QIHjdwzk+BmAABmBAWc1kCF0bKRAEQRAEQRAMGaACbaCUz/P5BRiKxhQaiV07uRjfYgQDMKDpGAhGCMUCzD4CBEEw1iAGYIBPZMJh+g8/P8cKpAJfV4EfMee/sLtaEFIAAAAASUVORK5CYII="})]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"row",width:"100%",gap:"8px",alignItems:"center"},children:a&&a?.types&&a?.types.map(o=>e.jsx("span",{style:{backgroundColor:`${y.get(o.type.name)}`,padding:"4px",borderRadius:"24px",color:"#FFFFFF",fontSize:"12px",fontWeight:"500"},children:o.type.name},o.type.name))}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",width:"100%",alignItems:"center"},children:[e.jsx("span",{style:{fontWeight:"600"},children:i.name}),e.jsx("span",{style:{fontWeight:"400"},children:` (${a?.weight?a?.weight/10:"---"}kg/${a?.height?a?.height/10:"---"}m)`})]})]},i.name)},I=()=>{const{modules:i}=w(),[t,a]=E({selectedType:[],pokemons:new Set([]),page:0,pageSize:50}),{data:l,isLoading:o}=k({queryKey:["list-type-pokemon"],queryFn:async()=>(await i?.get("AppRepository").poke.listPokemonTypes()??[]).filter(n=>n.name!=="unknown"&&n.name!=="shadow").sort((n,x)=>n.name>x.name?1:-1)}),{data:r,isLoading:m,isRefetching:c,refetch:h}=k({queryKey:["list-pokemon-page-size",t.selectedType.length],queryFn:async()=>{if(t.selectedType.length>0){const n=t.selectedType.map(p=>i?.get("AppRepository").poke.listPokemonsByType(p)),x=await Promise.all(n),g=Array.prototype.concat(...x),_=[...new Set(g.map(p=>JSON.stringify(p)))].map(p=>JSON.parse(p));return{total:g.length,data:_.splice(t.page*t.pageSize,t.pageSize)}}return await i?.get("AppRepository").poke.listPokemons({offset:t.page*t.pageSize,pageSize:t.pageSize})??null}});function A(s){t.selectedType.includes(s)?(t.selectedType=t.selectedType.filter(n=>n!==s),t.page=0,a()):t.selectedType.length<2&&(t.selectedType.push(s),t.page=0,a())}return o?e.jsx(e.Fragment,{}):e.jsxs("div",{className:"pokemon-page",children:[e.jsx("div",{className:"pokemon-page__list-type",children:l&&l.map(s=>e.jsxs("button",{onClick:()=>{A(s.name)},style:{borderColor:t.selectedType.includes(s.name)?`${y.get(s.name)}`:void 0},className:"item",children:[e.jsx("img",{src:`${B.host}/icons/pokemon-types/${s.name}.svg`}),e.jsx("span",{style:{color:`${y.get(s.name)}`},children:s.name})]},s.name))}),!m&&r&&e.jsx(j,{onChange:async(s,n)=>{t.page=s-1,t.pageSize=n,await h()},defaultCurrent:t.page,defaultPageSize:t.pageSize,total:r.total,showTotal:(s,n)=>e.jsxs("span",{style:{color:"#333333",fontSize:"16px",fontWeight:"400"},children:[`${n[0]}-${n[1]}`," of",e.jsxs("span",{style:{fontWeight:"600"},children:[" ",`${s} pokemons`]})]})}),e.jsx("div",{className:"pokemon-page__list-pokemons ",children:m||c?e.jsx(e.Fragment,{children:e.jsx(d,{})}):e.jsx(e.Fragment,{children:r?.data.map(s=>e.jsx(R,{selectedType:t.selectedType,pokemon:s},s.name))})})]})};export{I as default};
//# sourceMappingURL=chunk-petkitmon3.js.map
