import{T as m,a as u,j as e,_ as f,d as x,P as k}from"./chunk-petkitmon.js";import{E as d}from"./petkitmon.js";const h=new Map([["normal","#A8A77A"],["fire","#EE8130"],["water","#6390F0"],["electric","#F7D02C"],["grass","#7AC74C"],["ice","#96D9D6"],["fighting","#C22E28"],["poison","#A33EA1"],["ground","#E2BF65"],["flying","#A98FF3"],["psychic","#F95587"],["bug","#A6B91A"],["rock","#B6A136"],["ghost","#735797"],["dragon","#6F35FC"],["dark","#705746"],["steel","#B7B7CE"],["fairy","#D685AD"]]),w=({pokemon:o,selectedType:t})=>{const{data:i,isLoading:r,isError:l}=m({queryKey:["get-pokemon",t.length,o.name],queryFn:async()=>{const n=(await u.get(`${o.url}`)).data;if(t.length){if(n.types.filter(g=>{const p=g.type.name;return t.includes(p)}).length)return n;throw"error"}else return n}});return r||l?e.jsx(e.Fragment,{}):e.jsxs("div",{onClick:()=>{},className:"item-pokemon",children:[i.sprites.other.showdown.front_shiny||i.sprites.other.official_artwork?e.jsx("img",{src:i.sprites.other.showdown.front_shiny??i.sprites.other.official_artwork}):e.jsxs("svg",{viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[e.jsx("rect",{width:"360",height:"360",fill:"url(#pattern0)"}),e.jsxs("defs",{children:[e.jsx("pattern",{id:"pattern0",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:e.jsx("use",{xlinkHref:"#image0_436_202765",transform:"scale(0.015625)"})}),e.jsx("image",{id:"image0_436_202765",width:"64",height:"64",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAA40lEQVR4Xu3bQQ6EQAhEUbj/oXsO8Sdh4XOvJAi/qkF3Zt6E6710++xuiD6T40uACtACqYlzD2IACFKBkoHcgmSQDJJBMngKIT6ADygF6DSYfcCLTzg/z0eGrASogDbT0gKxB2MB5pkiBoBgrEEMwIBjLx9fAAiCIAhygmkkRgYjhWMHditsL2AvYC+QIHjdwzk+BmAABmBAWc1kCF0bKRAEQRAEQRAMGaACbaCUz/P5BRiKxhQaiV07uRjfYgQDMKDpGAhGCMUCzD4CBEEw1iAGYIBPZMJh+g8/P8cKpAJfV4EfMee/sLtaEFIAAAAASUVORK5CYII="})]})]}),e.jsx("span",{children:o.name})]},o.name)},E=()=>{const{modules:o}=f(),[t,i]=x({selectedType:[],pokemons:new Set([]),page:0,pageSize:50}),{data:r,isLoading:l}=m({queryKey:["list-type-pokemon"],queryFn:async()=>(await o?.get("AppRepository").poke.listPokemonTypes()??[]).filter(a=>a.name!=="unknown"&&a.name!=="shadow").sort((a,y)=>a.name>y.name?1:-1)}),{data:n,isLoading:c,isRefetching:g,refetch:p}=m({queryKey:["list-pokemon-page-size",t.selectedType.length],queryFn:async()=>await o?.get("AppRepository").poke.listPokemons({offset:t.page*t.pageSize,pageSize:t.pageSize})??null});function A(){t.selectedType=[],i()}return l?e.jsx(e.Fragment,{}):e.jsxs("div",{className:"pokemon-page",children:[e.jsxs("div",{className:"pokemon-page__list-type",children:[r&&r.map(s=>e.jsxs("div",{onClick:()=>{t.selectedType.includes(s.name)?t.selectedType=t.selectedType.filter(a=>a!==s.name):t.selectedType.push(s.name),i()},style:{borderColor:t.selectedType.includes(s.name)?`${h.get(s.name)}`:void 0},className:"item",children:[e.jsx("img",{src:`${d.host}/icons/pokemon-types/${s.name}.svg`}),e.jsx("span",{style:{color:`${h.get(s.name)}`},children:s.name})]},s.name)),e.jsx("div",{className:"item",style:{transition:"none",transform:"none",backgroundColor:"transparent",boxShadow:"none",cursor:"auto"},children:e.jsx("img",{onClick:()=>{A()},style:{width:"48px",height:"48px",cursor:"pointer"},src:`${d.host}/icons/ic-reset.svg`})})]}),!c&&n&&e.jsx(k,{onChange:async(s,a)=>{t.page=s-1,t.pageSize=a,await p()},defaultCurrent:1,defaultPageSize:50,total:n.total}),e.jsx("div",{className:"pokemon-page__list-pokemons ",children:(c||g)&&!n?e.jsx(e.Fragment,{}):e.jsx(e.Fragment,{children:n?.data.map(s=>e.jsx(w,{selectedType:t.selectedType,pokemon:s},s.name))})})]})};export{E as default};
//# sourceMappingURL=chunk-petkitmon3.js.map
